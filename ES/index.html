<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="initial-scale=1.0, user-scalable=no">
    <meta charset="utf-8">
    <title>Minha cidade</title>
    <style>
      /* Always set the map height explicitly to define the size of the div
       * element that contains the map. */
      #map {
        height: 100%;
      }
      /* Optional: Makes the sample page fill the window. */
      html, body {
        height: 100%;
        margin: 0;
        padding: 0;
      }
      /*#floating-panel {
        position: absolute;
        top: 10px;
        left: 25%;
        z-index: 5;
        background-color: #fff;
        padding: 5px;
        border: 1px solid #999;
        text-align: center;
        font-family: 'Roboto','sans-serif';
        line-height: 30px;
        padding-left: 10px;
      }*/
    </style>
  </head>
  <body>
    <!--<div id="floating-panel">

     preciso usar os "selects" como uma posição marcada
    
     <b>Start: </b>
    <select id="start">
      <option value="osasco, sp">Osasco</option>
      <option value="novo hamburgo, rs">Novo Hamburgo</option>
      <option value="pelotas, rs">Pelotas</option>
      <option value="natal, rn">Natal</option>
      <option value="santos, sp">Santos</option>
      <option value="sao paulo, sp">São Paulo</option>
      <option value="rio de janeiro, rj">Rio de Janeiro</option>
      <option value="brasilia, df">Brasília</option>
      <option value="palmares, pe">Palmares</option>
      <option value="palmas, to">Palmas</option>
      <option value="curitiba, pr">Curitiba</option>
      <option value="viamao, rs">Viamão</option>
    </select>
    <b>End: </b>
    <select id="end">
      <option value="osasco, sp">Osasco</option>
      <option value="novo hamburgo, rs">Novo Hamburgo</option>
      <option value="pelotas, rs">Pelotas</option>
      <option value="natal, rn">Natal</option>
      <option value="santos, sp">Santos</option>
      <option value="sao paulo, sp">São Paulo</option>
      <option value="rio de janeiro, rj">Rio de Janeiro</option>
      <option value="brasilia, df">Brasília</option>
      <option value="palmares, pe">Palmares</option>
      <option value="palmas, to">Palmas</option>
      <option value="curitiba, pr">Curitiba</option>
      <option value="viamao, rs">Viamão</option>
    </select> 
    </div>-->
    <div id="map"></div>
    <script>
      function initMap() {
        var directionsService = new google.maps.DirectionsService;
        var directionsDisplay = new google.maps.DirectionsRenderer;
        var map = new google.maps.Map(document.getElementById('map'), {
          zoom: 3,
          //preciso da posição local do usuário
          center: {lat: 0, lng: 0}
        });
        // Create an array of alphabetical characters used to label the markers.
        var labels = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ';

        // Add some markers to the map.
        // Note: The code uses the JavaScript Array.prototype.map() method to
        // create an array of markers based on a given "locations" array.
        // The map() method here has nothing to do with the Google Maps API.
        var markers = locations.map(function(location, i) {
          return new google.maps.Marker({
            position: location,
            label: labels[i % labels.length]
          });
        });

        // Add a marker clusterer to manage the markers.
        var markerCluster = new MarkerClusterer(map, markers,
            {imagePath: 'https://developers.google.com/maps/documentation/javascript/examples/markerclusterer/m'});
      }
      var locations = [
        //as poisções daqui são marcadas pelo usuario
        // {lat: -31.563910, lng: 147.154312},
        // {lat: -33.718234, lng: 150.363181},
        // {lat: -33.727111, lng: 150.371124},
        // {lat: -33.848588, lng: 151.209834},
        // {lat: -33.851702, lng: 151.216968},
        // {lat: -34.671264, lng: 150.863657},
        // {lat: -35.304724, lng: 148.662905},
        // {lat: -36.817685, lng: 175.699196},
        // {lat: -36.828611, lng: 175.790222},
        // {lat: -37.750000, lng: 145.116667},
        // {lat: -37.759859, lng: 145.128708},
        // {lat: -37.765015, lng: 145.133858},
        // {lat: -37.770104, lng: 145.143299},
        // {lat: -37.773700, lng: 145.145187},
        // {lat: -37.774785, lng: 145.137978},
        // {lat: -37.819616, lng: 144.968119},
        // {lat: -38.330766, lng: 144.695692},
        // {lat: -39.927193, lng: 175.053218},
        // {lat: -41.330162, lng: 174.865694},
        // {lat: -42.734358, lng: 147.439506},
        // {lat: -42.734358, lng: 147.501315},
        // {lat: -42.735258, lng: 147.438000},
        // {lat: -43.999792, lng: 170.463352}
      ]

    //     directionsDisplay.setMap(map);
    //     var onChangeHandler = function() {
    //       calculateAndDisplayRoute(directionsService, directionsDisplay);
    //     };
    //     document.getElementById('start').addEventListener('change', onChangeHandler);
    //     document.getElementById('end').addEventListener('change', onChangeHandler);
    //   }
    //   function calculateAndDisplayRoute(directionsService, directionsDisplay) {
    //     directionsService.route({
    //       origin: document.getElementById('start').value,
    //       destination: document.getElementById('end').value,
    //       travelMode: 'DRIVING'
    //     }, function(response, status) {
    //       if (status === 'OK') {
    //         directionsDisplay.setDirections(response);
    //       } else {
    //         window.alert('Directions request failed due to ' + status);
    //       }
    //     });
    //   }
    </script>
    <script async defer
    src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAXkVhIo8gfxXfYOrGTCPiMk0WCviiSEW0&callback=initMap">
    </script>
  </body>
</html>

<!--https://developers.google.com/maps/documentation/javascript/marker-clustering-->